{% extends 'base.html.twig' %}

{% block title %}
	Les News
{% endblock %}

{% block body %}

	<h1 class="h-grad bg-secondary2 mb-4">Les News</h1>

	{% set xCpt = 0 %}

	{% for new in news %}

		{% set xCpt = xCpt + 1 %}

			<div class="{% if ((xCpt % 2) != 0) %}bg-info2{% else %}bg-success2{% endif %} py-4">
				<div class="container">

					<div class="row">
						<div class="col-md-12 text-center">
							<h3 class="mb-0">{{ new.titleNew }}</h3>
							<span class="textAlt">
								<i class="fas fa-history"></i>
						 		{{ new.dateNew ? 'le ' ~ new.dateNew|date('d/m/y') : '' }}
							</span>  
						</div>
					</div>

					<div class="row">

						{% if ((xCpt % 2) != 0) %}

							<div class="col-md-6 clCard">
								{% if (new.pictureNew) %}
									<img src="{{ asset('photosNews/' ~ new.pictureNew) }}" 
										class="W-100 rounded-3" 
										height="350px" 	
										alt="{{ new.altpicturenew }}"
										title="{{ new.pictureNew }}">
									<span class="textAlt">{{ new.altpictureNew }}</span> 
								{% endif %}
							</div>

						{% endif %}

						<div class="col-md-6">
							{# <h3>{{ new.titleNew }}</h3>
							<span>le {{ new.dateNew ? new.dateNew|date('d/m/y') : '' }}</span>  
							<br> #}

							{# <div class="border border-2 border-secondary"> #}
							<div>
								{{ new.shorttextNew }} 
								<br>
								<a class="btn btn-primary btn-sm" 
									href="{{ path('posters_news_show', {'id': new.id}) }}"
									title="Allez lire la totalité de l'article...">
									Lire la suite et voir plus de photos ...
								</a>
							</div>

						</div>

						{% if ((xCpt % 2) == 0) %}

							{# <div class="col-md-6 clCard"> #}
							<div class="col-md-6 clCard">
							{% if (new.pictureNew) %}
									<img src="{{ asset('photosNews/' ~ new.pictureNew) }}" 
										class="W-100 rounded-3" 
										height="350px" 	
										alt="{{ new.altpicturenew }}"
										title="{{ new.pictureNew }}">
									<span class="textAlt">{{ new.altpictureNew }}</span> 
								{% endif %}
							</div>

						{% endif %}

					</div>

					{# <div class="row mt-1">
						<div class="col-md-12 border border-2 border-secondary"> #}
							{# {{ new.textNew |length > 300 ? new.textNew |slice(0,300)|raw : new.textNew|raw }} #}
							{# {{ new.shorttextNew }} 
							<br>
							<a class="btn btn-primary btn-sm" 
								href="{{ path('posters_news_show', {'id': new.id}) }}"
								title="Allez lire la totalité de l'article...">
								Lire la suite et voir plus de photos ...
							</a>
						</div>
					</div> #}
                    
				</div>

			</div>

			<hr class="m-0">

	{% else %}
		<div>Aucune donnée</div>
	{% endfor %}

{% endblock %}
